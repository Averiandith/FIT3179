<!DOCTYPE html>
<html>
<head>
  <title>What makes us happy?</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;1,600&display=swap" rel="stylesheet"> 

  <!-- custom style -->
  <style>
    *{
      font-family: 'Open Sans', sans-serif;
    }
    h1{
      font-weight: 900;
    }
     body{
       background-color: grey;
     }
     .page{
       width: 1100px;    
       background-color: #ffe4e1;   
       margin: auto;
       padding: 50px;
       padding-top: 40px;
    }
    .vis-container{
      width: 100%;
    }
    .description h2, h1{
      margin-top:0px;
    }
    .description-right {
      padding-left: 30px;
    }
    .description-left{
      padding-right: 30px;
    }
    .pure-g{
      margin-bottom: 60px;
    }
    .pure-g2{
      margin-bottom: 20px;
    }
    .small-font{
        font-size: 14px;
    }
  </style>
</head>
<body>

 <div class="page">

   <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>What Makes Us Happy?</h1>
        <p>
          Which region or countries are the happiest? What are that factors that contribute to a higher happiness score?
          What is the average happiness and factor scores for each region?
          Will a strong economy brings us great health and freedom?
          These are the questions we aim to explore in this visualisation!
        </p>
        <p>
          The data came from the World Happiness Report. It is a survey aimed to find out the state of global happiness in the year of 2019.
          The happiness scores are determined by a Cantril ladder. 
          It allows participants to think of a ladder with the best possible life with score 10, and worst possible life with a score of 0. 
          Then, participants are to rate their own current lives on that ladder scale. 
          The happiness score contributes to the country ranking among 155 countries.

        </p>
      </div>
    </div>
  <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-4">
            <div class="description description-left">
              <h2>Overall glance at the happiness score of the world</h2>
              <p>
                This idiom presents an equal earth projection of the world. Countries with a happier score will have a lighter shade of yellow, and darker greenish-blue shade for a lower happiness score.
             </p>
             <p>
               <i>Hover across the countries to check out their rank and happiness score.</i>
             </p>
            </div>
          </div>
        <div class="pure-u-2-3">
          <div id="vis1" class="vis-container"></div>
        </div>
    </div>
    <!-- end pure grid group -->  

    <!-- pure grid group -->
    <div class="pure-g2">
      <div class="pure-u-1-2">
          <div id="vis4" class="vis-container"></div>
      </div>
      <div class="pure-u-1-2">
        <div class="description description-left">
          <h2>Average factor score for each region</h2>
          <p>
            Two of these table heatmaps shall present the average factor and happiness score regionally.
            Although the factor scores does not provide an impact to the happiness score, but it does provide an indication why some 
            countries rank higher than others.
          </p>
          <p>
            <i>
              Can you identify the factors that contributes the most to the happiness score? That will be Social Support.
              It seems that the reason North America and Europe region are happy, due to strong Economic and Health factors.
            </i>
          </p>
        </div>
      </div>
    </div>
    <!-- end pure grid group --> 

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-2">
          <div id="vis6" class="vis-container"></div>
      </div>
      <div class="pure-u-1-2">
        <div class="description description-left">
          <h2>Average happiness score for each region</h2>
          <p>
            <i>
              Notice the relationship between the two heatmaps, where a higher factor score might contribute a higher happiness score of the region.
            </i>
          </p>
        </div>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-4">
          <div class="description description-left">
            <h2>Does having a strong economy means better health and freedom?</h2>
            <p>

            </p>
            <p>
              <i>
                Hover across the points to check out their factor and happiness scores.
                Please use the region drop down box to select a particular region and drag the rank slider
                to show only the kth top ranks.
              </i>
            </p>
          </div>
        </div>
        <div class="pure-u-1-3">
          <div id="vis2"  class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
          <div id="vis3"  class="vis-container"></div>
        </div>
      
      </div>
      <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-2-3">
          <div id="vis5" class="vis-container"></div>
      </div>
      <div class="pure-u-1-3">
        <div class="description description-right">
          <h2>Region best and worst scored country</h2>
          <p>
            This grouped bar chart aims to present the happiest and least happiest countries in each region.
            The average score is also shown to showcase on whether there is a huge discreptancy between the highest and lowest score between the two countries.
          </p>
          <p>
            <i>
              Hover across the bar charts to check out the happiness score for the country with the difference between the highest score and lowest score country in the region.
              It seems that Asia & Pacific and South/Latin America region has the biggest difference in the happiest and least happiest score, 4.1 and 3.6 respectively.
            </i>
          </p>
        </div>
      </div>

    </div>
    <!-- end pure grid group -->  
  
    <div class="pure-g">
      <div class="pure-u-1-1 small-font">
        <p>This visualisation is created by <a href="https://github.com/Averiandith" target="_blank">Yan Choong Tan</a>. The datasource is <a href="https://www.kaggle.com/unsdsn/world-happiness"" target="_blank">from Kaggle</href>.</p>
      </div>
    </div>

  </div> <!-- end page -->
   
<script type="text/javascript">
  var countriesPlot = "https://raw.githubusercontent.com/Averiandith/FIT3179/main/assignment_playground/Map_Plots/countries_plot_score.json";
  var scatterRegression1 = "https://raw.githubusercontent.com/Averiandith/FIT3179/main/assignment_playground/Scatter_Plots/economy_freedom_scatter_regression.json";
  var scatterRegression2 = "https://raw.githubusercontent.com/Averiandith/FIT3179/main/assignment_playground/Scatter_Plots/economy_health_scatter_regression.json";
  var tableHeatmapFactor = "https://raw.githubusercontent.com/Averiandith/FIT3179/main/assignment_playground/Table_Heatmap/table_heatmap_factor.json";
  var tableHeatmapHappiness = "https://raw.githubusercontent.com/Averiandith/FIT3179/main/assignment_playground/Table_Heatmap/table_heatmap_happiness.json";
  var regionBar = "https://raw.githubusercontent.com/Averiandith/FIT3179/main/assignment_playground/Bar_Chart/region_min_median_max.json";
  

  vegaEmbed('#vis1', countriesPlot, {"actions": true}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
  
   vegaEmbed('#vis2', scatterRegression1, {"actions": true}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis3', scatterRegression2, {"actions": true}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis4', tableHeatmapFactor, {"actions": true}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis5', regionBar, {"actions": true}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis6', tableHeatmapHappiness, {"actions": true}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

</script>
</body>
</html>